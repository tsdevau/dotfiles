#!/bin/zsh

echo "Setting up development environment..."

# Set up GitHub CLI
if command -v gh >/dev/null 2>&1; then
  echo "GitHub CLI is available. Run 'gh auth login' to authenticate."
fi

# Install global pnpm packages using template data from .chezmoi.toml
if command -v pnpm >/dev/null 2>&1; then
  echo "Installing global pnpm packages..."
  pnpm install -g {{ .pnpmGlobals.packages | join " " }}
fi

# Set up Rust environment
if command -v rustc >/dev/null 2>&1; then
  echo "Setting up Rust environment..."
  rustup default stable
  rustup component add rustfmt clippy
fi

# Configure 1Password CLI
if command -v op >/dev/null 2>&1; then
  echo "1Password CLI is available. Signing in..."
  op signin
fi

echo "Development environment setup completed"
